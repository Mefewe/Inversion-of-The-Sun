on_actions = {
	on_daily = {
		effect = {
			every_country = {
				set_variable = {
					infantry_ammo_tank_st = num_equipment@tank_ammo_equipment # Количество снарядов в складах
				}
				divide_variable = {
					infantry_ammo_tank_st = 1000
				}
				set_variable = {
					infantry_ammo_strelkovoje_st = num_equipment@infantry_ammo_equipment # Количество патронов в складах
				}
				divide_variable = {
					infantry_ammo_strelkovoje_st = 1000
				}
				set_variable = {
					infantry_ammo_artillery_st = num_equipment@artillery_ammo_equipment # Количество арт. снарядов в складах
				}
				divide_variable = {
					infantry_ammo_artillery_st = 1000
				}
				set_variable = {
					infantry_ammo_strelkovoje_zp = num_equipment_in_armies_k@infantry_ammo_equipment # Количество патронов в армии
				}
				set_variable = {
					infantry_ammo_tank_zp = num_equipment_in_armies_k@tank_ammo_equipment # Количество снарядов в армии
				}
				set_variable = {
					infantry_ammo_artillery_zp = num_equipment_in_armies_k@artillery_ammo_equipment # Количество арт. снарядов в армии
				}
				set_variable = {
					infantry_strelkovoje_cel = num_target_equipment_in_armies_k@infantry_ammo_equipment # Необходимое количество патронов в армии
				}
				set_variable = {
					infantry_tank_cel = num_target_equipment_in_armies_k@tank_ammo_equipment # Необходимое количество снарядов в армии
				}
				set_variable = {
					infantry_artillery_cel = num_target_equipment_in_armies_k@artillery_ammo_equipment # Необходимое количество арт. снарядов в армии
				}
				set_variable = {
					infantry_strelkovoje_voj = infantry_ammo_strelkovoje_st # 
				}
				set_variable = {
					infantry_tank_voj = infantry_ammo_tank_st # 
				}
				set_variable = {
					infantry_artillery_voj = infantry_ammo_artillery_st # 
				}
				subtract_from_variable = {
					infantry_tank_voj = infantry_strelkovoje_cel # Запасы снарядов в войсках
				} 
				subtract_from_variable = {
					infantry_strelkovoje_voj = infantry_strelkovoje_cel # Запасы патронов в войсках
				} 
				subtract_from_variable = {
					infantry_artillery_voj = infantry_artillery_cel # Запасы арт. снарядов в войсках
				} 
				
				set_variable = {
					infantry_eq_coef = 1 # оснащённость патронами и соответственно влияние на характеристики
				}
				set_variable = {
					arta_eq_coef = 1 # оснащённость арт. снарядами и соответственно влияние на характеристики
				}
				set_variable = {
					tank_eq_coef = 1 # оснащённость снарядами и соответственно влияние на характеристики
				}

				set_temp_variable = {
					inf_eq_coef_temp = infantry_ammo_strelkovoje_zp
				}
				set_temp_variable = {
					tank_eq_coef_temp = infantry_ammo_tank_zp
				}
				divide_temp_variable  = {
					tank_eq_coef_temp = infantry_tank_cel
				}
				divide_temp_variable  = {
					inf_eq_coef_temp = infantry_strelkovoje_cel
				}
				set_variable = {
					tank_eq_coef = tank_eq_coef_temp # оснащённость снарядами и соответственно влияние на характеристики
				}
				set_variable = {
					infantry_eq_coef = inf_eq_coef_temp # оснащённость патронами и соответственно влияние на характеристики
				}
				set_temp_variable = {
					art_eq_coef_temp = infantry_ammo_artillery_zp
				}
				divide_temp_variable  = {
					art_eq_coef_temp = infantry_artillery_cel
				}
				set_variable = {
					arta_eq_coef = art_eq_coef_temp # оснащённость арт снарядами и соответственно влияние на характеристики
				}
				if = {
					limit = {has_variable = infantry_eq_coef}
				
				if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.95
						}
					}
					set_technology = {
						deficit_inf_1 = 1
						popup = no
					}
					set_country_flag = DI1
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.95
						}		
					}
					set_technology = {
						deficit_inf_1 = 0
						popup = no
					}
					clr_country_flag = DI1
					}
					if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.8
						}
					}
					set_technology = {
						deficit_inf_2 = 1
						popup = no
					}
					set_country_flag = DI2
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.8
						}
					}
					set_technology = {
						deficit_inf_2 = 0
						popup = no
					}
					clr_country_flag = DI2
					}
					if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.65
						}
					}
					set_technology = {
						deficit_inf_3 = 1
						popup = no
					}	
					set_country_flag = DI3
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.65
						}
					}
					set_technology = {
						deficit_inf_3 = 0
						popup = no
					}	
					clr_country_flag = DI3
					}
					if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.5
						}
					}
					set_technology = {
						deficit_inf_4 = 1
						popup = no
					}
					set_country_flag = DI4
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.5
						}
					}
					set_technology = {
						deficit_inf_4 = 0
						popup = no
					}
					clr_country_flag = DI4
					}
					if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.4
						}
					}
					set_technology = {
						deficit_inf_5 = 1
						popup = no
					}	
					set_country_flag = DI5
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.4
						}}
						set_technology = {
							deficit_inf_5 = 0
							popup = no
						}	
						clr_country_flag = DI5
					}
					if = {
					limit = {
						check_variable = {
							infantry_eq_coef < 0.2
						}}
						set_technology = {
							deficit_inf_6 = 1
							popup = no
						}	
						set_country_flag = DI6	
					}
					else_if = {
					limit = {
						check_variable = {
							infantry_eq_coef > 0.2
						}}
						set_technology = {
							deficit_inf_6 = 0
							popup = no
						}	
						clr_country_flag = DI6	
					}
			   	 }
				if = {limit = {has_variable = arta_eq_coef}
					######## АРТА
					if = {
						limit = {
							check_variable = {
							arta_eq_coef < 0.95
						}
						NOT = {
							check_variable = {
								arta_eq_coef = 1
							}
						}
					}
					set_technology = {
						deficit_art_1 = 1
						popup = no
					}		
					set_country_flag = DA1		
					}
					else_if = {
					limit = {
						OR = {
							check_variable = {
								arta_eq_coef > 0.95
							}
							check_variable = {
								arta_eq_coef = 1
							}
						}
					}
					set_technology = {
						deficit_art_1 = 0
						popup = no
					}	
					clr_country_flag = DA1
					}
					if = {
					limit = {
						check_variable = {
							arta_eq_coef < 0.8
						}}
						set_technology = {
							deficit_art_2 = 1
							popup = no
						}
						set_country_flag = DA2
					}
					else_if = {
					limit = {
						check_variable = {
							arta_eq_coef > 0.8
						}
					}
					set_technology = {
						deficit_art_2 = 0
						popup = no
					}
					clr_country_flag = DA2
					}
					if = {
					limit = {
						check_variable = {
							arta_eq_coef < 0.65
						}}
						set_technology = {
							deficit_art_3 = 1
							popup = no
						}
						set_country_flag = DA3
					}
					else_if = {
					limit = {
						check_variable = {
							arta_eq_coef > 0.65
						}}
						set_technology = {
							deficit_art_3 = 0
							popup = no
						}
						clr_country_flag = DA3
					}
					if = {
					limit = {
						check_variable = {
							arta_eq_coef < 0.5
						}}
						set_technology = {
							deficit_art_4 = 1
							popup = no
						}
						set_country_flag = DA4
					}
					else_if = {
					limit = {
						check_variable = {
							arta_eq_coef > 0.5
						}}
						set_technology = {
							deficit_art_4 = 0
							popup = no
						}
						clr_country_flag = DA4
					}
					if = {
					limit = {
						check_variable = {
							arta_eq_coef < 0.4
						}}
						set_technology = {
							deficit_art_5 = 1
							popup = no
						}	
						set_country_flag = DA5	
					}
					else_if = {
					limit = {
						check_variable = {
							arta_eq_coef > 0.4
						}}
						set_technology = {
							deficit_art_5 = 0
							popup = no
						}		
						clr_country_flag = DA5
					}
					if = {
					limit = {
						check_variable = {
							arta_eq_coef < 0.2
						}
					}
					set_technology = {
						deficit_art_6 = 1
						popup = no
					}
					set_country_flag = DA6
					}
					else_if = {
					limit = {
						check_variable = {
							arta_eq_coef > 0.2
						}
					}
					set_technology = {
						deficit_art_6 = 0
						popup = no
					}
					clr_country_flag = DA6
					}
				}
			########## ТАНКИ
			if = {limit = {has_variable = tank_eq_coef}
				if = {
					limit = {
						check_variable = {
							tank_eq_coef < 0.95
						}
						NOT = {
							check_variable = {
								tank_eq_coef = 1
							}
						}
					}
					set_technology = {
						deficit_tank_1 = 1
						popup = no
					}	
					set_country_flag = DT1				
					}
					else_if = {
					limit = {
						OR = {
							check_variable = {
								tank_eq_coef > 0.95
							}
							check_variable = {
								tank_eq_coef = 1
							}
					 	}
					}
					set_technology = {
						deficit_tank_1 = 0
						popup = no
					}	
					clr_country_flag = DT1				
					}
					if = {
					limit = {
							check_variable = {
							tank_eq_coef < 0.8
						}
					}
					set_technology = {
						deficit_tank_2 = 1
						popup = no
					}
					set_country_flag = DT2
					}
					else_if = {
					limit = {
						check_variable = {
							tank_eq_coef > 0.8
						}
					}
					set_technology = {
						deficit_tank_2 = 0
						popup = no
					}
					clr_country_flag = DT2
					}
					if = {
					limit = {
					check_variable = {
							tank_eq_coef < 0.65
						}
					}
					set_technology = {
						deficit_tank_3 = 1
						popup = no
					}
					set_country_flag = DT3
					}
					else_if = {
					limit = {
						check_variable = {
							tank_eq_coef > 0.65
						}
					}
					set_technology = {
						deficit_tank_3 = 0
						popup = no
					}
					clr_country_flag = DT3
					}
					if = {
					limit = {
							check_variable = {
							tank_eq_coef < 0.5
						}
					}
					set_technology = {
						deficit_tank_4 = 1
						popup = no
					}
					set_country_flag = DT4
					}
					else_if = {
					limit = {
						check_variable = {
							tank_eq_coef > 0.5
						}
					}
					set_technology = {
						deficit_tank_4 = 0
						popup = no
					}
					clr_country_flag = DT4
					}
					if = {
					limit = {
						check_variable = {
							tank_eq_coef < 0.4
						}
					}
					set_technology = {
						deficit_tank_5 = 1
						popup = no
					}	
					set_country_flag = DT5	
					}
					else_if = {
					limit = {
						check_variable = {
							tank_eq_coef > 0.4
						}
					}
						set_technology = {
							deficit_tank_5 = 0
							popup = no
						}	
						clr_country_flag = DT5	
					}
					if = {
					limit = {
						check_variable = {
							tank_eq_coef < 0.2
						}
					}
					set_technology = {
						deficit_tank_6 = 1
						popup = no
					}
					set_country_flag = DT6
					}
					else_if = {
					limit = {
						check_variable = {
							tank_eq_coef > 0.2
						}
					}
					set_technology = {
					deficit_tank_6 = 0
						popup = no
					}
					clr_country_flag = DT6
					}
				}
			}
		}
	}
}